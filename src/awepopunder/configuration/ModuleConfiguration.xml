<?xml version="1.0" encoding="utf-8" ?>
<root>
	<!-- MODULES -->
	
	<module id="urlProviderModule" type="com.module.asset.urlprovider.UrlProviderModule" map-type="com.module.asset.urlprovider.IUrlProviderModule">
		
	</module>
	
	<module id="performerProviderModule" type="awepopunder.module.performerprovider.PerformerProviderModule" map-type="awepopunder.module.performerprovider.IPerformerProviderModule">
		<argument ref="performerProviderServiceLocator" />
	</module>
	
	<module id="chatBoxModule" type="com.module.chat.chatbox.ChatBoxModule" map-type="com.module.chat.chatbox.IChatBoxModule">
		<argument ref="chatArtifactList" />
		<argument ref="chatBoxView" />
		
		<listen ref="chatWebSocketService">
			<event static-ref="com.service.net.chatwebsocket.message.ChatWebSocketServiceMessage.RECEIVED_ROOM_MESSAGE" method="addNewLine" strategy="awepopunder.adapter.chat.ChatRoomMessageStrategy"/>
		</listen>
	</module>
	
	<module id="hlsPlayerModule" type="com.module.stream.player.hlsplayer.HlsPlayerModule" map-type="com.module.stream.player.hlsplayer.IHlsPlayerModule">
		<argument ref="videoView"/>
		<argument ref="loadingView"/>
		<argument ref="playButtonView"/>
		<argument ref="hlsPlayerServiceLocator"/>
		<listen ref="pageVisibilityService">
			<event static-ref="com.service.visibility.event.PageVisibilityServiceEvent.ON_HIDDEN" method="stop"/>
		</listen>
	</module>
	
	<module id="navigatorModule" type="awepopunder.module.navigator.NavigatorModule" map-type="awepopunder.module.navigator.INavigatorModule">
		<listen ref="hlsPlayerModule">
			<event static-ref="com.module.stream.player.hlsplayer.message.HlsPlayerModulePublicMessage.STREAM_CLICK" method="navigateTo" strategy="awepopunder.adapter.navigator.NavigateToChatRoomStrategy"/>
		</listen>
		
		<listen ref="profilePictureModule">
			<event static-ref="com.module.image.message.ImageModulePublicMessage.IMAGE_CLICK" method="navigateTo" strategy="awepopunder.adapter.navigator.NavigateToChatRoomStrategy"/>
		</listen>
	</module>
	
	<module id="profilePictureModule" type="com.module.image.ImageModule" map-type="com.module.image.IImageModule">
		<argument ref="profilePictureView" />
	</module>
	
	<module id="layoutModule" type="awepopunder.module.layout.LayoutModule" map-type="awepopunder.module.layout.ILayoutModule">
		<argument ref="layoutView"/>
	</module>
	
	
	<!-- OTHER -->
	<bean id="chatArtifactList" type="com.vo.chat.artifact.ChatArtifactVO" />
	
	<bean id="internalApplicationSettings" type="awepopunder.vo.settings.application.InternalApplicationSettingsVO" map-type="awepopunder.vo.settings.application.InternalApplicationSettingsVO" />
</root>